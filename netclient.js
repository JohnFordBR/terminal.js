const net = require('net');
const readline = require('readline');
const color = require("ansi-color").set;
const rl = readline.createInterface(process.stdin, process.stdout);
const HOST = '127.0.0.1';
const PORT = 6969;
let nickname;
let defaultcolor;
const client = new net.Socket();
client.connect(PORT, HOST, function() {});


rl.question("Please enter a color:", (color) =>{
      defaultcolor = color
      rl.prompt(true);
      rl.question("Please enter a nickname:", (name) =>{

          let newcomer = ` is newcomer`;
            nickname = name;
client.write(JSON.stringify({message: newcomer,nickname:nickname,color:defaultcolor}));
      });

});



rl.on('line',(line)=>{
conscom(line);
});




client.on('data',(data)=>{



  if(JSON.parse(data).type=='bear'){

  console.log(

    `………………….._,,-~’’’¯¯¯’’~-,,
  ………………..,-‘’ ; ; ;_,,---,,_ ; ;’’-,…………………………….._,,,---,,_
  ……………….,’ ; ; ;,-‘ , , , , , ‘-, ; ;’-,,,,---~~’’’’’’~--,,,_…..,,-~’’ ; ; ; ;__;’-,
  ……………….| ; ; ;,’ , , , _,,-~’’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ¯’’~’-,,_ ,,-~’’ , , ‘, ;’,
  ……………….’, ; ; ‘-, ,-~’’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;’’-, , , , , ,’ ; |
  …………………’, ; ;,’’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;’-, , ,-‘ ;,-‘
  ………………….,’-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;’’-‘ ;,,-‘
  ………………..,’ ; ; ; ; ; ; ; ; ; ; ; ;__ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ‘-,’
  ………………,-‘ ; ; ; ; ; ; ; ; ; ;,-‘’¯: : ’’-, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; _ ; ; ; ; ;’,
  ……………..,’ ; ; ; ; ; ; ; ; ; ; ;| : : : : : :| ; ; ; ; ; ; ; ; ; ; ; ; ,-‘’¯: ¯’’-, ; ; ;’,
  …………….,’ ; ; ; ; ; ; ; ; ; ; ; ‘-,_: : _,-‘ ; ; ; ; ; ; ; ; ; ; ; ; | : : : : : :| ; ; ; |
  ……………,’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ¯¯ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;’-,,_ : :,-‘ ; ; ; ;|
  …………..,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ,,-~’’ , , , , ,,,-~~-, , , , _ ; ; ;¯¯ ; ; ; ; ;|
  ..…………,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,’ , , , , , , ,( : : : : :) , , , ,’’-, ; ; ; ; ; ; ; ;|
  ……….,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;’, , , , , , , , ,’~---~’’ , , , , , ,’ ; ; ; ; ; ; ; ;’,
  …….,-‘’ ; _, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ‘’~-,,,,--~~’’’¯’’’~-,,_ , ,_,-‘ ; ; ; ; ; ; ; ; ; ‘,
  ….,-‘’-~’’,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; | ; ; | . . . . . . ,’; ,’’¯ ; ; ; ; ; ; ; ; ; ,_ ; ‘-,
  ……….,’ ; ;,-, ; ;, ; ; ;, ; ; ; ; ; ; ; ; ; ; ‘, ; ;’, . . . . .,’ ;,’ ; ; ; ;, ; ; ;,’-, ; ;,’ ‘’~--‘’’
  ………,’-~’ ,-‘-~’’ ‘, ,-‘ ‘, ,,- ; ; ; ; ; ; ; ; ‘, ; ; ‘~-,,,-‘’ ; ,’ ; ; ; ; ‘, ;,-‘’ ; ‘, ,-‘,
  ……….,-‘’ ; ; ; ; ; ‘’ ; ; ;’’ ; ; ; ; ; ; ; ; ; ; ‘’-,,_ ; ; ; _,-‘ ; ; ; ; ; ;’-‘’ ; ; ; ‘’ ; ;’-,
  ……..,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;¯¯’’¯ ; ; ; ; ; ; ; ; , ; ; ; ; ; ; ; ; ;’’-,
  ……,-‘ ; ; ; ; ; ; ; ,, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; |, ; ; ; ; ; ; ; ; ; ; ‘-,
  …..,’ ; ; ; ; ; ; ; ;,’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;|..’-,_ ; ; ; , ; ; ; ; ; ‘,
  ….,’ ; ; ; ; ; ; ; ; | ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,’…….’’’,-~’ ; ; ; ; ; ,’
  …,’ ; ; ; ; ; ; ; ; ;’~-,,,,,--~~’’’’’’~-,, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,’…..,-~’’ ; ; ; ; ; ; ,-
  …| ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ‘, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,’…,-‘ ; ; ; ; ; ; ; ;,-‘
  …’, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ,-‘ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ,’….’, ; ; ; ; _,,-‘’
  ….’, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ,-‘’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,’…….’’~~’’¯
  …..’’-, ; ; ; ; ; ; ; ; ; ; ; ; ; ;_,,-‘’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ,-‘
  ………’’~-,,_ ; ; ; ; _,,,-~’’ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,-‘
  ………..| ; ; ;¯¯’’’’¯ ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,,-‘
  ………..’, ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;,-‘
  …………| ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ; ;|
  …………’, ; ; ; ; ; ; ; ; ; ~-,,___ ; ; ; ; ; ; ; ; ; ; ; ; ; ;’,
  ………….’, ; ; ; ; ; ; ; ; ; ; ;,-‘….’’-, ; ; ; ; ; ; ; ; ; ; ; ; ‘,
  ………..,’ ‘- ; ; ; ; ; ; ; ; ;,-‘’……….’-, ; ; ; ; ; ; ; ; ; ; ; ‘,
  ……….,’ ; ;’ ; ; ; ; ; ; ,,-‘…………….’, ; ; ; ; ; ; ; ; ; ; ;’,
  ………,’ ; ; ; ; ; ; ; ;,-‘’…………………’’-, ; ; ; ; ; ; ; ; ; |
  ……..,’ ; ; ; ; ; ; ;,,-‘………………………’’, ; ; ; ; ; ; ; ; |
  ……..| ; ; ; ; ; ; ;,’…………………………,’ ; ; ; ; ; ; ; ;,’
  ……..| ; ; ; ; ; ; ,’………………………..,-‘ ; ; ; ; ; ; ; ,’’
  ……..| ; ; ; ; ; ;,’……………………….,-‘ ; ; ; ; ; ; ; ,-‘
  ……..’,_ , ; , ;,’……………………….,’ ; ; ; ; ; ; ; ,-‘
  ………’,,’,¯,’,’’|……………………….| ; ; ; ; ; ; ; ; ‘--,,
  ………….¯…’’………………………..’-, ; ; ; ; ; ; ; ; ; ;’’~,,
  ……………………………………………’’-,, ; ; ; ; ; ; ; ; ; ;’’~-,,
  ………………………………………………..’’-, ; ; ; ; ; ,,_ ; ;’-,’’-,
  …………………………………………………..’, ; ; ; ; ; ; ‘-,__,--.
  ……………………………………………………’-, ; ; ;,,-~’’’  , ,|, |
  ………………………………………………………’’~-‘’_ , , ,,’,_/--‘ `);
  rl.prompt(true);
  }else if(JSON.parse(data).type=='shrug'){
  console.log(`¯\_(ツ)_/¯`);
  rl.prompt(true);
  }else if(JSON.parse(data).type==='fry'){
  console.log(`
                 7O
          @     GGG
         7R   CQGGQ
        SGR  GGGGGQ
       7GGR #GGGGGQ      3GGGGGGS    SGC
       RGGRRGGGGGGQ  7GGGGGGGGGGGG#(GGG(
       QGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG
       GGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGQGGGO
       GGGGGGGGGGGGGGGGGGGGGGQRGGGGGGGGGGG
       GGGGGGGGGGGGGGGGGQRS///QGGGGGGGGGGR
       GGGGGGGGGGGGGGQS(///^3QGGGGGGGGGGQ(
       GGGGGGGGGGGQ3(//////SGGQS3GGGGGGGGQ
       RGGGGGGGQ(//^///////RS(//RGGGGGGGGGt
          (((O /^^/^^^//^/////3RGGGGGGGGGGGC
            C///^/^^/^//^^^//^RGGGGGGGGGGGG7
           (7^//^/^^//((////^/QGGGGGGGGGGGQ(
           7R^ ^(S73/^   S//^^QGGRGGGGGGGGC
          O7     O3       (^/^GGQ3((QGGGGR
          S  OR(SO     /@  ///RR733S3QQ/
          #t  7S^O(       /^^/(////OO(
           7QCS^//(^     C3///////(/S
          O/^///////(OO33/////^/(7O#O
          C^^^^^/^/^^^^/^^/^^^^//(@RRR
           #(((/^^^^^^^^/^/^/^////RRBB@@C
          S(^/^^^//^^//^^////////^@RB@RRR@
         3^/^^/^//^^^^/^/^//^////(@RBBBB@BBO
        7/^^//^^//^/((OOSOO#(^///7@BBB@@@@BBC
          (3O3773SO//^/////^((///RBBB@B@@@BBR@t
                7RB@RO/^///^^////@BBB@@@@@@@BB@C
                BB@BBB#//^///////RB@B@@@@@@@B@BB#
                RB@BR@R@/^////^/RBB@@@@@@@@@B@@@BR
               ^B@@BB@@@Q///^//#B@@@@@@@@@@@@@@BBBO
               /@@@BB@@@7OOCO#@@@@@@@@@@@@@@@@@@BBR#     `);
  rl.prompt(true);
  }else if(JSON.parse(data).type==='bean'){
  console.log(`
  ─────────────█████████████████▓
  ──────────▒█████████████████████▓
  ─────────█████████████████████████
  ───────▒███████████████████████████
  ──────█████████████████████████████▓
  ─────███████████████████████████████▓
  ────█████████████████████████████████▒
  ───▒█████████████████████████████████▓
  ───████████████████████████████████████
  ──▒██████████████████≥▒████████████████
  ──█████████████████▒───▒███████████████▒
  ─████████████████▓▒───≥≥████████████████
  ─███████████████≥───────≥███████████████
  ██████████████▒─────≥─≥≥≥▒██████████████▓
  █████████████──────≥≥≥≥≥≥▒▓██████████████
  ████████████───────≥≥≥≥≥≥≥≥▒█████████████
  ██████████▓────────≥≥≥≥≥≥▒≥─≥████████████
  █████████▓────≥───≥≥≥≥─≥≥▒▒≥──▒█████████▒
  ████████▒──≥─≥≥≥≥≥─≥─≥≥≥≥▒≥≥──≥▒▒███████▓
  ███████≥──≥≥≥≥≥≥≥─≥≥────▒▒▒▒≥─≥▒≥≥███████
  █████▒──≥≥≥≥≥≥≥≥─≥≥──▒██████≥─≥≥≥≥≥██████
  ████≥─≥≥≥≥≥≥≥≥▒≥≥≥──≥████▓▓██▒▒≥▒≥≥▒█████
  ███▒≥▒≥≥≥▒▒≥≥≥≥≥≥≥──███▓───≥▒▓▓▒▒▒≥▒▒████
  ███▒▒≥▒▒▒▒▒≥≥≥≥≥≥──▒██▓─≥▒▒▒▒▒▒▒▒≥▒▒▒▓██▒
  ███▓▒▒▒▒≥▒▒≥≥▒≥≥──≥███─▓▓▓▒█▓▒▒≥─≥≥▒▒▒███
  ████▒▒▒▒▒▒▒▒≥▒▒≥──███≥▓█▒▒▒▒█▓▒─≥─≥▒▒▒███
  ████▒▒▒▒▒▒▒▒≥≥▒≥─▒██▒≥█▒─▒█≥▒▓──≥≥≥▒▒▒▓██
  █████▒▒≥▒▒▒▒≥≥▒≥≥███≥▒█──██▒▒▒≥≥≥≥≥≥▒▒▓██
  ▒███▓▒▒▒≥▒≥▒≥≥≥▒▒██▒▓▓█▒─▒▒▒▒▒≥≥≥≥≥▒≥▒▓██
  ─████▓▒≥≥─≥≥≥≥≥▒▒▓▒▒███▓▒▒▒▒▒≥──≥≥≥≥▒▒▓██
  ─▓███████▓▒▒▒≥─≥▒──▒▒▒▒▓██▓▒────≥≥≥▒≥▒▒█▓
  ──████████████▒─≥──≥≥≥≥▒▒▒≥─≥───▒≥≥≥▒▒▒██
  ──≥█████████████≥≥─≥≥≥──────────≥≥≥▒▒▒▒█▓
  ───≥█████████████≥─≥▒≥≥≥≥≥≥─────≥≥≥≥▒▒▒█▓
  ─────█████▒▓█≥≥██≥─≥≥▒≥≥▒▒▓▓▒▒≥≥≥≥≥▒▒▒▒█▓
  ──────████─███≥██▓─≥▒≥▒▒▒≥▒▒███▓▒▒▒▒▒▒▒██
  ──────≥███▓≥█▓▒▓██▒≥▒≥▒▒──≥▒≥▒▓██▓▒▒▒▒▓██
  ───────▒███▓▒▓▒▒▓█▓≥─≥≥──▒█▒▒▒▒▓███≥≥▒▓██
  ────────█████▓▒▒▒█▓▒──≥─▓██▒▒▒≥▓███▓─▒▓██
  ─────────▓███▒▒≥▓█▓─≥≥≥▒█▓▒▒▒≥▒█▒─▒█▒▒███
  ──────────█▓≥≥≥▒▓██≥─≥─██▒≥≥≥▒█▓──≥▒▓▓███
  ──────────▒▓≥≥▒▒▓███▒≥▓██▒─≥▒▓▒▒≥≥▒≥▒▒███
  ───────────▓▒▒≥▒▓████████≥▒▒▓▒▒▒≥▒▒≥▒▒▓██
  ───────────≥█▒▒≥▓███████▒▒▓▓▒≥▒▒▒≥▒≥▒▒███
  ────────────▓█▒▒▓██████████▒▒▒▒▒▒▒≥≥▒▒███
  ─────────────██▒▓█████████▓▓█▓▒≥≥≥≥≥▒████
  ──────────────▓██████████▓██▓▒▒≥≥≥≥▒▒████
  ───────────────███▒▓███████▓▒▒▒≥≥≥▒▒█████
  ────────────────███▒▒██████▒▒▒▒≥≥▒▒██████
  ─────────────────≥██▓▓████▓▒▒▒▒▒▒▒███████
  ─────────────────≥████████▓▒▒▒▒▒█████████
  ─────────────────███████████▓▒▓█████████▒
  ────────────────██████████████████▓▓▒▒▒▒▒
  ───────────────██████████████████▒▒▒▒▒▒▒▒
  ──────────────▒███████████████████▓▒▒▒▒▒▒
  ──────────────██████████████████████▒▒▒▒▒
  ─────────────███████████████████████▓▒▒▒▒
  ────────────▒████████████████████████▓▒▒▒
  ────────────██████████████████████████▓▒▒
  ───────────████████████████████████████▓▒
  ──────────≥█████████████████████████▒▓▓█▓
  ──────────██████████████████████████▓≥▓▓▓
  ─────────≥███████████████████████████≥▒▓▒
  ─────────█████████████████████████████≥▒▒
  `);
  rl.prompt(true);


  }else if(JSON.parse(data).type==='alien'){
  console.log(`
  QR
  #t(@
  @R
  @S
  RSQ
  @K@
  #KQ7
  RSQ@
  @%GC(7Q/
  #@K%C6QKCCC6@
  (@%CC3%C3CC%CCCC6Q
  GCCC%C3CC66CCCsCCC@
  sQ3C6CCCC%CCC3CCCCC%C7
  @6%CCCCCOC6CsCCC66O%s@
  GsCCC36CC6CC6%%CC%CC%@
  GC36C3s%CCCCsCC%C%C%CsG
  sCCC666CCCCC6%CC%CCsRG%#7
  C6%C63CRQGC3C77%7(t((t((7Q^
  sC3CC@C((t((7QG#K#@@@@@@@@G7Q
  S6CCO#(t((@%/%O@@@@@@O(//R@@sC
  QsCC6st(%@        CG       @@s@
  @OCCC%((%R/C@      RC      @@7@
  @OO3s@(((@/       (R/      @#R(
  @s3CCCQC(t%%GQRQQQ##QGCGC((7R
  GGCCCsCCCG36SGQKSSSGsss
  Gs6C6CCCCCCCCCCs6CC6CC3
  /@CCC3Cs3GSQQQ#QRGQS@@Q
  @3%C@@(@///%///((((
  @CCOR/(@(O%O%%((((((
  GCCs@%(@///%////(((C
  CCCCG@(@%%CQ%%%%O(/#C
  sC3C%CCGGQQ#QQGGG6CC#@
  @((%@#3CC3%C3CC%CCCCsQC((Q7
  #Qt((t((7%Q#R@QK@Q#QG37((t((7@
  %3((t(((((((t((t((t((t(tt((t(t((t@
  %7t((t((t((((tt((((((((t(tt(t((t(((#C
  `);
  rl.prompt(true);
  }else if(JSON.parse(data).type==='toad'){
  console.log(`
  NOT YET
  `);
  rl.prompt(true);

  }else{

    colornick = color( JSON.parse(data).nickname, `${JSON.parse(data).color}`);
      console.log(`${colornick}    ${JSON.parse(data).message} `);
      rl.prompt(true);


}


});



const conscom=(line)=>{
let spliter = line.split(':')


    switch (spliter[0]) {
    case '/chcolor':
    defaultcolor=line.split(':')[1].split(' ')[0];
    client.write(JSON.stringify({  message:line,nickname:nickname,color:defaultcolor }));
    rl.prompt(true);
      break;
    case '/chnick':
    nickname=line.split(':')[1].split(' ')[0];
    client.write(JSON.stringify({   message:line, nickname: nickname,color:defaultcolor }));
    rl.prompt(true);
      break;
    case '/clear':
    process.stdin.write('\u001b[2J\u001b[0;0H');
    rl.prompt(true);
      break;
    case '/bear':
    client.write(JSON.stringify({   type:'bear', message:line, nickname: nickname }));
      break;
    case '/shrug':
      client.write(JSON.stringify({  type:'shrug', message:line, nickname: nickname }));
      break;
      case '/fry':
        client.write(JSON.stringify({  type:'fry', message:line, nickname: nickname }));
        break;
        case '/bean':
          client.write(JSON.stringify({  type:'bean', message:line, nickname: nickname }));
          break;
          case '/alien':
            client.write(JSON.stringify({  type:'alien', message:line, nickname: nickname }));
            break;
    default:
    client.write(JSON.stringify({ message:line, nickname: nickname,color:defaultcolor }));
  }

  

}
